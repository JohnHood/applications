#%Module
module use /share/easybuild/RHEL6.3/sandybridge/modules/all

proc ModulesHelp { } {
    puts stderr {   OpenFOAM is a free, open source CFD software package. 
 OpenFOAM has an extensive range of features to solve anything from complex fluid flows
 involving chemical reactions, turbulence and heat transfer, 
 to solid dynamics and electromagnetics. - Homepage: http://www.openfoam.com/
    }
}

module-whatis {Description: OpenFOAM is a free, open source CFD software package. 
 OpenFOAM has an extensive range of features to solve anything from complex fluid flows
 involving chemical reactions, turbulence and heat transfer, 
 to solid dynamics and electromagnetics. - Homepage: http://www.openfoam.com/}

set root    /share/easybuild/RHEL6.3/sandybridge/software/OpenFOAM/2.2.0-goolf-1.4.10

conflict    OpenFOAM

if { ![is-loaded goolf/1.4.10] } {
    module load goolf/1.4.10
}

if { ![is-loaded libreadline/6.2-goolf-1.4.10] } {
    module load libreadline/6.2-goolf-1.4.10
}

if { ![is-loaded SCOTCH/6.0.0_esmumps-goolf-1.4.10] } {
    module load SCOTCH/6.0.0_esmumps-goolf-1.4.10
}

if { ![is-loaded ncurses/5.9-goolf-1.4.10] } {
    module load ncurses/5.9-goolf-1.4.10
}


setenv	EBROOTOPENFOAM		"$root"
setenv	EBVERSIONOPENFOAM		"2.2.0"
setenv	EBDEVELOPENFOAM		"$root/easybuild/OpenFOAM-2.2.0-goolf-1.4.10-easybuild-devel"

setenv	WM_PROJECT_VERSION	2.2.0
setenv	FOAM_INST_DIR	$root
setenv	WM_COMPILER	Gcc
setenv	WM_MPLIB	MPI-MVAPICH2
setenv	MPI_ARCH_PATH	/share/easybuild/RHEL6.3/sandybridge/software/OpenMPI/1.6.4-GCC-4.7.2
setenv	FOAM_BASH	$root/OpenFOAM-2.2.0/etc/bashrc
setenv	FOAM_CSH	$root/OpenFOAM-2.2.0/etc/cshrc

# built with EasyBuild version 1.10.0
